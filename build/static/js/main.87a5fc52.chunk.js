(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{142:function(e,t,a){e.exports=a(188)},152:function(e,t,a){},153:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(29),c=a.n(i),o=a(28),s=a(40),l=a(135),u=a(3),m=a.n(u),d=a(11),p=a(12),g=a(14),h=a(13),f=a(15),E=a(21),b=a(41),v=a(208),x=a(89),O=a(132),j=a(17),S="FETCHED_IS_LOGGED",w="FETCHED_LOGIN",y="FETCHED_REGISTER",k="FETCHED_LOGOUT",C="FETCHED_PARSE",T=m.a.mark(L),I=m.a.mark(W),R=m.a.mark(J),N=m.a.mark(Y),F=m.a.mark(ne),P=m.a.mark(ce),A=function(){return{type:"IS_LOGGED_REQUEST"}},_=function(e){return{type:"IS_LOGGED_GOT_RESPONSE",isLoggedIn:e.isLoggedIn,userId:e.userId,userName:e.userName}},z=function(e){return{type:"IS_LOGGED_ERROR",logRegstatusError:e.message}};function L(e){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j.b)(A());case 3:return e.next=5,fetch("/api/users/isLogged",{credentials:"include"});case 5:return t=e.sent,e.next=8,Object(j.a)((function(){return t.json()}));case 8:if(a=e.sent,200!==t.status){e.next=14;break}return e.next=12,Object(j.b)(_(a));case 12:e.next=15;break;case 14:console.log(a);case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),e.next=21,Object(j.b)(z(e.t0));case 21:case"end":return e.stop()}}),T,null,[[0,17]])}var G=function(){return{type:S}},D=function(){return{type:"LOGIN_REQUEST"}},M=function(e){return{type:"LOGIN_GOT_RESPONSE",isLoggedIn:e.isLoggedIn,userId:e.userId,userName:e.userName}},U=function(e){return{type:"LOGIN_ERROR",logRegstatusError:e}};function W(e){var t,a,n;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(j.b)(D());case 3:return r.next=5,Object(j.a)((function(){return fetch("/api/users/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.data.username,password:e.data.password})})}));case 5:if(200!==(t=r.sent).status){r.next=14;break}return r.next=9,Object(j.a)((function(){return t.json()}));case 9:return a=r.sent,r.next=12,Object(j.b)(M(a));case 12:r.next=20;break;case 14:if(400!==t.status){r.next=20;break}return r.next=17,Object(j.a)((function(){return t.json()}));case 17:return n=r.sent,r.next=20,Object(j.b)(U(n));case 20:r.next=25;break;case 22:r.prev=22,r.t0=r.catch(0),console.log(r.t0);case 25:case"end":return r.stop()}}),I,null,[[0,22]])}var B=function(e){return{type:w,data:e}},H=function(){return{type:"REGISTER_REQUEST"}},q=function(e){return{type:"REGISTER_GOT_RESPONSE",registrationStatus:e.registrationStatus}},Q=function(e){return{type:"REGISTER_ERROR",logRegstatusError:e}};function J(e){var t,a,n;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(j.b)(H());case 3:return r.next=5,Object(j.a)((function(){return fetch("/api/users/registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.data.username,password:e.data.password,email:e.data.email})})}));case 5:if(200!==(t=r.sent).status){r.next=14;break}return r.next=9,Object(j.a)((function(){return t.json()}));case 9:return a=r.sent,r.next=12,Object(j.b)(q(a));case 12:r.next=20;break;case 14:if(400!==t.status){r.next=20;break}return r.next=17,Object(j.a)((function(){return t.json()}));case 17:return n=r.sent,r.next=20,Object(j.b)(Q(n));case 20:r.next=25;break;case 22:r.prev=22,r.t0=r.catch(0),console.log(r.t0);case 25:case"end":return r.stop()}}),R,null,[[0,22]])}var V=function(e){return{type:y,data:e}},X=function(){return{type:"LOGOUT_REQUEST"}},$=function(e){return{type:"LOGOUT_GOT_RESPONSE",isLoggedIn:e.isLoggedIn}},K=function(e){return{type:"LOGOUT_ERROR",logRegstatusError:e.message}};function Y(e){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j.b)(X());case 3:return e.next=5,fetch("/api/users/logout",{credentials:"include",method:"DELETE"});case 5:return t=e.sent,e.next=8,Object(j.a)((function(){return t.json()}));case 8:if(a=e.sent,200!==t.status){e.next=14;break}return e.next=12,Object(j.b)($(a));case 12:e.next=15;break;case 14:console.log(a);case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),e.next=21,Object(j.b)(K(e.t0));case 21:case"end":return e.stop()}}),N,null,[[0,17]])}var Z=function(){return{type:k}},ee=function(){return{type:"PARSE_REQUEST"}},te=function(e){return{type:"PARSE_GOT_RESPONSE",ingredientsParsed:e.ingredients}},ae=function(e){return{type:"PARSE_ERROR",parseError:e}};function ne(e){var t,a;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Parse Func Called"),n.prev=1,console.log("parse"),n.next=5,Object(j.b)(ee());case 5:return n.next=7,fetch("/api/parses/",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({productname:e.data.search})});case 7:if(200!==(t=n.sent).status){n.next=18;break}return n.next=11,Object(j.a)((function(){return t.json()}));case 11:return a=n.sent,n.next=14,Object(j.b)(te(a));case 14:return n.next=16,Object(j.b)(ie(e.data));case 16:n.next=22;break;case 18:if(204!==t.status){n.next=22;break}return!0,n.next=22,Object(j.b)(ae(!0));case 22:n.next=27;break;case 24:n.prev=24,n.t0=n.catch(1),console.log(n.t0);case 27:case"end":return n.stop()}}),F,null,[[1,24]])}var re=function(e){return{type:C,data:e}},ie=function(e){return{type:"SET_CARD_DIMENSIONS",cardHeight:e.cardHeight,cardWidth:e.cardWidth}};function ce(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.c)(S,L);case 2:return e.next=4,Object(j.c)(w,W);case 4:return e.next=6,Object(j.c)(y,J);case 6:return e.next=8,Object(j.c)(k,Y);case 8:return e.next=10,Object(j.c)(C,ne);case 10:case"end":return e.stop()}}),P)}var oe=function(){return{type:"CLEAR_STATUS"}},se=(a(152),a(153),a(196)),le=a(209),ue=a(190),me=a(210),de=a(98),pe=a.n(de),ge=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"logout",value:function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.logoutFetch();case 1:case"end":return e.stop()}}),null,this)}},{key:"fakehandleClick",value:function(){}},{key:"render",value:function(){return r.a.createElement(se.a,{direction:"row",width:"80%",align:"center",justify:"center",height:"60px",elevation:"medium"},r.a.createElement(x.a,{direction:"row",align:"center",justify:"center",height:"100%",width:"auto"},r.a.createElement(x.a,{align:"center",justify:"center",height:"100%",width:"11%"},r.a.createElement(le.a,{src:pe.a,height:"100%",width:"100%",fill:"true"})),r.a.createElement(x.a,{align:"center",justify:"center",height:"100%",width:"12%",onClick:this.fakehandleClick,hoverIndicator:!0},r.a.createElement(ue.a,{as:E.b,to:"/",align:"center",justify:"center",fill:"true",onClick:this.fakehandleClick,focusIndicator:"false"},r.a.createElement(me.a,{fill:"true",textAlign:"center"},"\u0413\u041b\u0410\u0412\u041d\u0410\u042f"))),r.a.createElement(x.a,{align:"center",justify:"center",height:"100%",width:"21%",onClick:this.fakehandleClick,hoverIndicator:!0},r.a.createElement(ue.a,{as:E.b,to:"/recipes/new",align:"center",justify:"center",onClick:this.fakehandleClick,focusIndicator:"false",fill:"true"},r.a.createElement(me.a,{fill:"true",textAlign:"center"},"\u0421\u041e\u0417\u0414\u0410\u0422\u042c \u0420\u0415\u0426\u0415\u041f\u0422"))),this.props.isLoggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{align:"center",justify:"center",height:"100%",width:"19%",onClick:this.fakehandleClick,hoverIndicator:!0},r.a.createElement(ue.a,{as:E.b,to:"/users/".concat(this.props.userName),align:"center",justify:"center",fill:"true",onClick:this.fakehandleClick,focusIndicator:"false"},r.a.createElement(me.a,{fill:"true",textAlign:"center"},"\u041c\u041e\u0418 \u0420\u0415\u0426\u0415\u041f\u0422\u042b"))),r.a.createElement(x.a,{align:"center",justify:"center",height:"100%",width:"10%",onClick:this.fakehandleClick,hoverIndicator:!0},r.a.createElement(ue.a,{as:E.b,to:"/",align:"center",justify:"center",onClick:this.logout.bind(this),focusIndicator:"false",fill:"true"},r.a.createElement(me.a,{fill:"true",textAlign:"center"},"\u0412\u042b\u0419\u0422\u0418")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{align:"center",justify:"center",height:"100%",width:"10%",onClick:this.fakehandleClick,hoverIndicator:!0},r.a.createElement(ue.a,{as:E.b,to:"/login",align:"center",justify:"center",onClick:this.fakehandleClick,focusIndicator:"false",fill:"true"},r.a.createElement(me.a,{fill:"true",textAlign:"center"},"\u0412\u041e\u0419\u0422\u0418"))),r.a.createElement(x.a,{align:"center",justify:"center",height:"100%",width:"18%",onClick:this.fakehandleClick,hoverIndicator:!0},r.a.createElement(ue.a,{as:E.b,to:"/registration",align:"center",justify:"center",onClick:this.fakehandleClick,focusIndicator:"false",fill:"true",hoverIndicator:!0},r.a.createElement(me.a,{fill:"true",textAlign:"center"},"\u0420\u0415\u0413\u0418\u0421\u0422\u0420\u0410\u0426\u0418\u042f"))))))}}]),t}(r.a.Component);var he=Object(o.b)((function(e){return{isLoggedIn:e.isLoggedIn,userId:e.userId,userName:e.userName}}),(function(e){return{logoutFetch:function(){return e(Z())}}}))(ge),fe=a(46),Ee=a(22),be=function(){return r.a.createElement(x.a,{width:"200px",height:"200px",justify:"center",align:"center"},r.a.createElement(Ee.e,{kind:"wave",color:"#2ad2c9",size:"small"}))},ve=a(212),xe=a(211),Oe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={username:"",password:""},a.handleSubmit=a.handleSubmit.bind(Object(fe.a)(a)),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentWillUnmount",value:function(){this.props.clearStatus()}},{key:"handleSubmit",value:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.props.loginFetch({username:e.username,password:e.password});case 1:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement(x.a,{width:"30%",margin:"large",pad:"large",border:{color:"border"},justify:"center",align:"center",elevation:"medium"},r.a.createElement(ve.a,{level:"2",margin:{top:"none",bottom:"small"}},"\u0412\u0445\u043e\u0434"),r.a.createElement(Ee.b,Object.assign({basis:"medium",focusFirstChild:!1},this.props,{onSubmit:this.handleSubmit}),r.a.createElement(Ee.f,{label:"\u0418\u043c\u044f",name:"username"}),r.a.createElement(Ee.d,{label:r.a.createElement(x.a,{direction:"row",align:"center",justify:"between"},"\u041f\u0430\u0440\u043e\u043b\u044c"),description:"Password",name:"password",validation:[Ee.g.required()]}),r.a.createElement(x.a,{pad:{vertical:"medium"},align:"end"},r.a.createElement(ue.a,{hoverIndicator:"background",primary:!0,type:"submit",alignSelf:"center",label:"\u0412\u043e\u0439\u0442\u0438"})),r.a.createElement(x.a,{direction:"row",alignSelf:"center",gap:"small",align:"center"})),r.a.createElement(x.a,null,this.props.loadingFetch?r.a.createElement(be,null):this.props.isLoggedIn?r.a.createElement(b.a,{to:"/"}):r.a.createElement(xe.a,null,this.props.logRegstatusError)))}}]),t}(r.a.Component);var je=Object(o.b)((function(e){return{isLoggedIn:e.isLoggedIn,loadingFetch:e.loadingFetch,logRegstatusError:e.logRegstatusError}}),(function(e){return{loginFetch:function(t){return e(B(t))},clearStatus:function(){return e(oe())}}}))(Oe),Se=a(43),we=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(g.a)(this,Object(h.a)(t).call(this))).handleSubmit=function(t){return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e.props.registerFetch({username:t.username,password:t.password,email:t.email});case 1:case"end":return a.stop()}}))},e.state={username:"",password:"",email:""},e}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentWillUnmount",value:function(){this.props.clearStatus()}},{key:"render",value:function(){return r.a.createElement(x.a,{width:"30%",margin:"large",pad:"large",border:{color:"border"},justify:"center",elevation:"medium"},r.a.createElement(ve.a,{level:"2",margin:{top:"none",bottom:"small"},align:"center"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement(Ee.b,{basis:"medium",focusFirstChild:!1,onSubmit:this.handleSubmit},r.a.createElement(Ee.f,{label:"\u0418\u043c\u044f",name:"username"}),r.a.createElement(Ee.d,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",validation:[Ee.g.required()]}),r.a.createElement(Ee.a,{label:"Email",name:"email",validation:[Ee.g.required(),Ee.g.email()]}),r.a.createElement(x.a,Object(Se.a)({pad:{vertical:"medium"},align:"end"},"align","center"),r.a.createElement(ue.a,{hoverIndicator:"background",primary:!0,type:"submit",label:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}))),r.a.createElement(x.a,null,this.props.loadingFetch?r.a.createElement(be,null):this.props.logRegstatusError?r.a.createElement(xe.a,{className:"statustext",wordBreak:"break-word"},this.props.logRegstatusError):r.a.createElement(xe.a,{className:"statustext",wordBreak:"break-word"},this.props.registrationStatus)))}}]),t}(r.a.Component);var ye=Object(o.b)((function(e){return{loadingFetch:e.loadingFetch,logRegstatusError:e.logRegstatusError,registrationStatus:e.registrationStatus}}),(function(e){return{registerFetch:function(t){return e(V(t))},clearStatus:function(){return e(oe())}}}))(we),ke=a(7),Ce=a(24),Te=a(48),Ie=a.n(Te),Re=a(213),Ne=a(207),Fe=["\u0425\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u0437\u0430\u043a\u0443\u0441\u043a\u0430","\u0413\u043e\u0440\u044f\u0447\u0430\u044f \u0437\u0430\u043a\u0443\u0441\u043a\u0430","\u0421\u0443\u043f","\u0413\u043e\u0440\u044f\u0447\u0435\u0435 \u0431\u043b\u044e\u0434\u043e","\u0421\u0430\u043b\u0430\u0442","\u041a\u0430\u0448\u0430","\u041f\u0430\u0441\u0442\u0430","\u0414\u0435\u0441\u0435\u0440\u0442"];function Pe(e){var t=Object(n.useState)(Fe),a=Object(Ce.a)(t,2),i=a[0],c=(a[1],e.category),o=e.setCategory,s=e.errors,l=e.setError;return r.a.createElement(x.a,{fill:!0,align:"start",justify:"center"},r.a.createElement(Ne.a,{id:"category",className:"input",name:"category",size:"medium",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e \u0431\u043b\u044e\u0434\u0430",dropHeight:"small",value:c,options:i,onChange:function(e){var t=e.option;l(Object(ke.a)({},s,{category:""})),o(t)}}))}var Ae=a(215),_e=a(202);a(55);function ze(e){var t=e.ingredients,a=e.setIngredients,n=e.setPriceTotal,i=e.setCaloriesTotal;return r.a.createElement(x.a,{alignSelf:"center",alignContent:"center",elevation:"xsmall",width:"900px",animation:"fadeIn"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"\u0412\u0435\u0441"),r.a.createElement("th",null,"\u041a\u043a\u0430\u043b"),r.a.createElement("th",null,"\u0426\u0435\u043d\u0430"),r.a.createElement("th",null,"\u0428\u0442"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id,className:"testText "},r.a.createElement("td",{className:"paddingTd"},r.a.createElement(Ae.a,{label:e.name,href:e.link,target:"_blank"})),r.a.createElement("td",{width:"8%"},r.a.createElement(x.a,{width:{min:"70px",max:"70px"},margin:{vertical:"0px",horizontal:"0px"},align:"center",alignContent:"center",alignSelf:"center",direction:"row"},r.a.createElement(Re.a,{placeholder:"\u0412\u0435\u0441",className:"input",value:e.inputWeight,onChange:function(r){var c=r.target.value;a(t.map((function(t){return t.id===e.id&&(t.inputWeight=c,t.quantity=Math.ceil(c/t.weight),t.priceTotal=Math.round(t.quantity*t.price),t.caloriesTotal=Math.round(c/100*t.calories)),t})));var o=Math.round(t.reduce((function(e,t){return e+t.caloriesTotal}),0));i(o);var s=Math.round(t.reduce((function(e,t){return e+t.priceTotal}),0));n(s)}}))),r.a.createElement("td",{className:"centered"},e.caloriesTotal),r.a.createElement("td",{className:"centered"},e.priceTotal),r.a.createElement("td",{className:"centered"},e.quantity),r.a.createElement("td",{width:"8%"},r.a.createElement(x.a,{wrap:!0,direction:"row",width:"10px",round:"full",margin:{left:"xsmall"}},r.a.createElement(ue.a,{href:"#",onClick:function(n){n.preventDefault(),n.stopPropagation();var r=t.filter((function(t){return t.id!==e.id}));a(r)},onFocus:function(e){return e.stopPropagation()}},r.a.createElement(x.a,{background:"accent-1",round:"full",margin:{left:"15px"}},r.a.createElement(_e.a,{color:"white",size:"small",style:{width:"25px",height:"25px"}}))))))})))))}function Le(e){var t=e.setSearch,a=Object(n.useState)(""),i=Object(Ce.a)(a,2),c=i[0],o=i[1];return r.a.createElement(x.a,{alignSelf:"center",direction:"row",round:"small",fill:!1,flex:"grow",width:{min:"900px",max:"900px"}},r.a.createElement(x.a,{width:{min:"750px",max:"750px"},fill:!0,round:"small"},r.a.createElement(Re.a,{className:"input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",value:c,onChange:function(e){return o(e.target.value)}})),r.a.createElement(x.a,{alignContent:"center",direction:"row",flex:"grow",focusIndicator:!1},r.a.createElement(ue.a,{focusIndicator:!1,href:"#"},r.a.createElement(x.a,{onClick:function(e){e.preventDefault(),e.stopPropagation(),t(c)},onFocus:function(e){return e.stopPropagation()},hoverIndicator:!0,height:"50px",focusIndicator:!0,direction:"row",pad:{vertical:"0px",horizontal:"43px"},margin:{vertical:"0px",horizontal:"10px"},width:{min:"140px",max:"140px"},background:"accent-1",round:"small",elevation:"small"},r.a.createElement(me.a,{className:"button",alignSelf:"center",textAlign:"center",elevation:"small"},"\u041d\u0410\u0419\u0422\u0418")))))}var Ge=a(129),De=a.n(Ge),Me=a(203),Ue=(a(185),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=a.props,t=e.ingredient,n=e.ingredients,r=e.setIngredients,i=e.setPriceTotal,c=e.setCaloriesTotal,o=e.setSearch,s=e.errors,l=e.setError;t.priceTotal=t.quantity*t.price,t.caloriesTotal=t.weight/100*t.calories,t.inputWeight=t.weight;var u=n.concat([t]);r(u),c(u.reduce((function(e,t){return e+t.caloriesTotal}),0)),i(u.reduce((function(e,t){return e+t.priceTotal}),0)),l(Object(ke.a)({},s,{ingredients:""})),o("")},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(x.a,{width:"25vw",height:"22vw",className:"wrapper",border:{color:"border"}},r.a.createElement(x.a,{direction:"column",height:"100%",width:"100%"},r.a.createElement(x.a,{height:"100%",width:"100%",background:{image:"url(".concat(this.props.ingredient.imageLink,")"),position:"center"}}),r.a.createElement(x.a,{className:"bottom",direction:"row-responsive",height:"35%",width:"100%"},r.a.createElement(x.a,{className:"details",height:"100%",width:"70%",direction:"column",align:"center",pad:"1px"},r.a.createElement(x.a,null,r.a.createElement(x.a,{width:"100%"},r.a.createElement("marquee",{behavior:"alternate",scrollamount:"2",direction:"right"},r.a.createElement(xe.a,{size:"medium",textAlign:"start",width:"100%"}," ",this.props.ingredient.name)))),r.a.createElement(xe.a,{size:"medium"},"\u0426\u0435\u043d\u0430: ",this.props.ingredient.price," ",this.props.ingredient.currency,"."),r.a.createElement(xe.a,{size:"medium"},"\u0412\u0435\u0441: ",this.props.ingredient.weight," ",this.props.ingredient.measureType,".")),r.a.createElement(x.a,{fit:"content",align:"center",direction:"column",justify:"center",border:[{side:"left"}],hoverIndicator:!0,onClick:this.handleClick},r.a.createElement(Me.a,{size:"medium"}),r.a.createElement(xe.a,{size:"small",textAlign:"center"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0440\u0435\u0446\u0435\u043f\u0442")))))}}]),t}(r.a.Component)),We=a(204),Be=a(205),He=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={numberOfCards:1,activeItemIndex:0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e,t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("MOUNTED"),n.prev=1,e=this.props.search,t={search:e},n.next=6,m.a.awrap(this.props.parseFetch(t));case 6:(a=this.props.ingredientsParsed.length)>=3?this.setState({numberOfCards:3}):this.setState({numberOfCards:a}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0);case 13:case"end":return n.stop()}}),null,this,[[1,10]])}},{key:"componentDidUpdate",value:function(e){var t,a,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:try{this.props.search!==e.search&&(t=this.props.search,a={search:t},this.props.parseFetch(a)),this.props.ingredientsParsed.length!==e.ingredientsParsed.length&&((n=this.props.ingredientsParsed.length)>=3?this.setState({numberOfCards:3}):this.setState({numberOfCards:n}))}catch(i){console.log(i)}case 1:case"end":return r.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return this.props.loadingFetch?r.a.createElement(x.a,{align:"center",alignContent:"center",alignSelf:"center",direction:"row-responsive"},r.a.createElement(be,null)):this.props.parseError?r.a.createElement(xe.a,null,"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441."):r.a.createElement("div",{style:{padding:"0 0",maxWidth:"70vw",margin:"0 auto"}},r.a.createElement(De.a,{infiniteLoop:!1,gutter:12,activePosition:"center",chevronWidth:60,disableSwipe:!1,alwaysShowChevrons:!1,numberOfCards:this.state.numberOfCards,slidesToScroll:1,outsideChevron:!0,showSlither:!1,firstAndLastGutter:!1,activeItemIndex:this.state.activeItemIndex,requestToChangeActive:function(t){return e.setState({activeItemIndex:t})},rightChevron:r.a.createElement(ue.a,{icon:r.a.createElement(We.a,{size:"medium"})}),leftChevron:r.a.createElement(ue.a,{icon:r.a.createElement(Be.a,{size:"medium"})})},this.props.ingredientsParsed&&this.props.ingredientsParsed.map((function(t){return r.a.createElement(Ue,{key:t.id,setSearch:e.props.setSearch,ingredient:t,ingredients:e.props.ingredients,setIngredients:e.props.setIngredients,setCaloriesTotal:e.props.setCaloriesTotal,setPriceTotal:e.props.setPriceTotal,errors:e.props.errors,setError:e.props.setError})}))))}}]),t}(r.a.Component);var qe=Object(o.b)((function(e){return{loadingFetch:e.loadingFetch,ingredientsParsed:e.ingredientsParsed,parseError:e.parseError}}),(function(e){return{parseFetch:function(t){return e(re(t))}}}))(He),Qe=a(214),Je=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={newID:""},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Ie()();this.setState({newID:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.instruction,n=t.instructions,i=t.setInstructions,c=t.errors,o=t.setError,s=t.index;return r.a.createElement(x.a,{alignSelf:"center",direction:"row",round:"small",fill:!1,flex:"grow",margin:{vertical:"0px"},width:{min:"800px",max:"800px"}},r.a.createElement(x.a,{hoverIndicator:!0,height:"50px",focusIndicator:!0,direction:"row",margin:{vertical:"0px",horizontal:"10px"},round:"small"},r.a.createElement(me.a,{className:"bold",alignSelf:"center",size:"large",responsive:!0,textAlign:"center"},s+1)),r.a.createElement(x.a,{hoverIndicator:!0,height:"50px",width:"700px",focusIndicator:!0,direction:"row",margin:{vertical:"0px",horizontal:"10px"},round:"small"},r.a.createElement(Qe.a,{className:"input",plain:!0,fill:!0,resize:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u0434\u043b\u044f \u0448\u0430\u0433\u0430 ".concat(s+1),value:a.text,onChange:function(t){var r=t.target.value;if(o(Object(ke.a)({},c,{instructions:""})),r.length>3&&n[n.length-1].id!=e.state.newID){var s=n.map((function(e){return e.id===a.id&&(e.text=r),e}));""!==s[s.length-1].text&&s.push({id:e.state.newID,text:""}),i(s),console.log(e.state.newID)}else i(n.map((function(e){return e.id===a.id&&(e.text=r),e})))}})),n.length>1&&r.a.createElement(x.a,{hoverIndicator:!1,height:"50px",focusIndicator:!0,direction:"row",margin:{vertical:"10px",horizontal:"10px"},round:"small"},r.a.createElement(ue.a,{href:"#",onClick:function(e){e.preventDefault(),e.stopPropagation();var t=n.filter((function(e){return e.id!==a.id}));i(t)},onFocus:function(e){return e.stopPropagation()}},r.a.createElement(x.a,{background:"accent-1",round:"full",margin:{left:"xsmall"}},r.a.createElement(_e.a,{color:"white",size:"small",style:{width:"25px",height:"25px"}})))))}}]),t}(r.a.Component);function Ve(e){return r.a.createElement(x.a,{wrap:!0,direction:"row",width:"small"},r.a.createElement(ue.a,{href:"#",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.clickSubmit()},onFocus:function(e){return e.stopPropagation()}},r.a.createElement(x.a,{align:"center",direction:"row",gap:"xsmall",pad:{vertical:"xsmall",horizontal:"small"},margin:"xsmall",background:"accent-1",round:"large"},r.a.createElement(me.a,{className:"button",alignSelf:"center",textAlign:"center",elevation:"small"},e.name))))}var Xe=a(133),$e=(a(186),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={imagelink:""},a.send=function(e){var t,n,r,i;return m.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return"/api/uploads/",(t=new FormData).append("file",e[0]),c.next=5,m.a.awrap(fetch("/api/uploads/",{method:"POST",body:t}));case 5:return n=c.sent,c.next=8,m.a.awrap(n.json());case 8:r=c.sent,i=r.path,alert("\u0412\u0430\u0448\u0435 \u0444\u043e\u0442\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u043a \u0440\u0435\u0446\u0435\u043f\u0442\u0443 !"),a.props.setImage("/api/uploads/"+i);case 12:case"end":return c.stop()}}))},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Xe.a,{onDrop:function(t){return e.send(t)}},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("section",null,r.a.createElement("div",Object.assign({className:"drop-container"},t()),r.a.createElement("input",a()),r.a.createElement("p",null,"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u043e\u0442\u043e \u0432\u0430\u0448\u0435\u0433\u043e \u0440\u0435\u0446\u0435\u043f\u0442\u0430")))}))}}]),t}(n.Component)),Ke=["0","1","2","3","4","5","6","7","8","9","10","11","12"],Ye=["0","5","10","15","20","25","30","35","40","45","50","55"];function Ze(e){var t=Object(n.useState)(""),a=Object(Ce.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)("0"),s=Object(Ce.a)(o,2),l=s[0],u=s[1],d=Object(n.useState)("0"),p=Object(Ce.a)(d,2),g=p[0],h=p[1],f=Object(n.useState)(1),E=Object(Ce.a)(f,2),v=E[0],O=E[1],j=Object(n.useState)(""),S=Object(Ce.a)(j,2),w=S[0],y=S[1],k=Object(n.useState)(""),C=Object(Ce.a)(k,2),T=C[0],I=C[1],R=Object(n.useState)(""),N=Object(Ce.a)(R,2),F=N[0],P=N[1],A=Object(n.useState)(""),_=Object(Ce.a)(A,2),z=_[0],L=_[1],G=Object(n.useState)([]),D=Object(Ce.a)(G,2),M=D[0],U=D[1],W=Object(n.useState)([{id:Ie()(),text:""}]),B=Object(Ce.a)(W,2),H=B[0],q=B[1],Q=Object(n.useState)(""),J=Object(Ce.a)(Q,2),V=J[0],X=J[1],$=Object(n.useState)(""),K=Object(Ce.a)($,2),Y=K[0],Z=K[1],ee=Object(n.useState)({name:"",image:"",ingredients:"",instructions:"",category:""}),te=Object(Ce.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(" \u043f\u043e\u0440\u0446\u0438\u044f"),ie=Object(Ce.a)(re,2),ce=ie[0],oe=ie[1];return V?r.a.createElement(b.a,{to:"/recipes/".concat(V)}):r.a.createElement(x.a,{justify:"between",alignContent:"stretch",margin:"medium",gap:"medium",pad:"medium",fill:"vertical",direction:"column",elevation:"medium",width:"80%",height:"medium"},r.a.createElement(me.a,{margin:{vertical:"medium",horizontal:"...",top:"large",bottom:"...",left:"...",right:"..."},className:"bold",alignSelf:"center",size:"small",responsive:!0,textAlign:"center"},"\u041d\u041e\u0412\u042b\u0419 \u0420\u0415\u0426\u0415\u041f\u0422"),r.a.createElement(x.a,{align:"center",alignContent:"center",alignSelf:"center",border:"bottom",direction:"row-responsive"},r.a.createElement(Re.a,{plain:!0,placeholder:"    \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",value:i,className:"ingredient-name",onChange:function(e){ne(Object(ke.a)({},ae,{name:""})),c(e.target.value)}}),ae.name&&r.a.createElement(me.a,{margin:{vertical:"medium",horizontal:"...",top:"large",bottom:"...",left:"...",right:"..."},className:"bold",alignSelf:"center",size:"small",responsive:!0,textAlign:"center",color:"red"},ae.name)),r.a.createElement(me.a,{margin:{vertical:"medium",horizontal:"...",top:"large",bottom:"...",left:"...",right:"..."},className:"bold",alignSelf:"center",size:"small",responsive:!0,textAlign:"center"},"\u041a\u041e\u041b\u0418\u0427\u0415\u0421\u0422\u0412\u041e \u041f\u041e\u0420\u0426\u0418\u0419"),r.a.createElement(x.a,{round:"small",align:"center",alignContent:"center",alignSelf:"center",direction:"row-responsive",elevation:"small",fill:!1,flex:!1,width:{min:"220px",max:"220px"}},r.a.createElement(Ee.c,{min:1,max:12,value:v,suffix:ce,onChange:function(e){var t=e.target.value;1===parseFloat(t)?oe(" \u043f\u043e\u0440\u0446\u0438\u044f"):parseFloat(t)>4?oe(" \u043f\u043e\u0440\u0446\u0438\u0439"):oe(" \u043f\u043e\u0440\u0446\u0438\u0438"),O(t)}})),r.a.createElement(me.a,{margin:{vertical:"medium",horizontal:"...",top:"large",bottom:"...",left:"...",right:"..."},className:"bold",alignSelf:"center",size:"small",responsive:!0,textAlign:"center"},"\u0418\u041d\u0413\u0420\u0415\u0414\u0418\u0415\u041d\u0422\u042b"),M.length>0&&r.a.createElement(ze,{ingredients:M,setIngredients:U,setPriceTotal:I,setCaloriesTotal:P}),r.a.createElement(Le,{setSearch:L}),z&&r.a.createElement(qe,{search:z,setSearch:L,ingredients:M,setIngredients:U,setCaloriesTotal:P,setPriceTotal:I,errors:ae,setError:ne}),ae.ingredients&&r.a.createElement(xe.a,{size:"medium",color:"red"},ae.ingredients),r.a.createElement(me.a,{margin:{vertical:"medium",horizontal:"...",top:"large",bottom:"...",left:"...",right:"..."},className:"bold",alignSelf:"center",size:"small",responsive:!0,textAlign:"center"},"\u0418\u041d\u0421\u0422\u0420\u0423\u041a\u0426\u0418\u0418"),H&&H.map((function(e,t){return r.a.createElement(x.a,{alignSelf:"center",direction:"row-responsive",key:e.id},r.a.createElement(Je,{instruction:e,instructions:H,setInstructions:q,errors:ae,setError:ne,index:t}))})),ae.instructions&&r.a.createElement(xe.a,{size:"medium",color:"red"},ae.instructions),r.a.createElement(x.a,{alignSelf:"center",alignContent:"center",direction:"row",round:"small",fill:!1,flex:"grow",margin:{vertical:"0px"},width:{min:"800px",max:"800px"}},r.a.createElement(x.a,{alignSelf:"left",alignContent:"top",direction:"column",round:"small",fill:!1,flex:"grow",margin:{vertical:"0px"}},r.a.createElement(me.a,{margin:{vertical:"medium",horizontal:"...",top:"large",bottom:"...",left:"...",right:"..."},className:"bold",alignSelf:"left",size:"small",responsive:!0,textAlign:"left"},"\u041a\u0410\u0422\u0415\u0413\u041e\u0420\u0418\u042f"),r.a.createElement(Pe,{category:w,setCategory:y,errors:ae,setError:ne}),ae.category&&r.a.createElement(xe.a,{size:"medium",color:"red"},ae.category)),r.a.createElement(x.a,{alignSelf:"right",direction:"column",round:"small",fill:!1,flex:"grow",margin:{vertical:"0px"}},r.a.createElement(me.a,{margin:{vertical:"medium",horizontal:"...",top:"large",bottom:"...",left:"...",right:"..."},className:"bold",alignSelf:"left",size:"small",responsive:!0,textAlign:"left"},"\u0412\u0420\u0415\u041c\u042f \u041f\u0420\u0418\u0413\u041e\u0422\u041e\u0412\u041b\u0415\u041d\u0418\u042f"),r.a.createElement(Ne.a,{id:"hours",name:"hours",placeholder:"\u0447\u0430\u0441\u043e\u0432",dropHeight:"small",options:Ke,value:l,onChange:function(e){var t=e.option;return u(t)}}),r.a.createElement(me.a,{className:"bold",alignSelf:"left",size:"small",responsive:!0,textAlign:"left"},"\u0447."),r.a.createElement(Ne.a,{id:"minutes",name:"minutes",placeholder:"\u043c\u0438\u043d\u0443\u0442",dropHeight:"small",options:Ye,value:g,onChange:function(e){var t=e.option;return h(t)}}),r.a.createElement(me.a,{className:"bold",alignSelf:"left",size:"small",responsive:!0,textAlign:"left"},"\u043c\u0438\u043d."))),r.a.createElement(x.a,{alignSelf:"center",alignContent:"center",direction:"row",round:"small",fill:!1,flex:"grow",width:"400px",margin:{left:"55px"}},r.a.createElement($e,{setImage:Z}),ae.image&&r.a.createElement(xe.a,{size:"medium",color:"red"},ae.image)),r.a.createElement(x.a,{alignSelf:"center",alignContent:"center",direction:"row",round:"small",fill:!1,flex:"grow",margin:{vertical:"0px"}},r.a.createElement(Ve,{name:"\u0421\u041e\u0417\u0414\u0410\u0422\u042c \u0420\u0415\u0426\u0415\u041f\u0422",clickSubmit:function(){var e,t,a,n,r;return m.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(i&&Y&&0!==M.length&&""!==H[0].text&&w){c.next=10;break}e={},i||(e.name="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),Y||(e.image="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u043e\u0442\u043e \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),w||(e.category="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),0===M.length&&(e.ingredients="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"),""===H[0].text&&(e.instructions="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u043f\u043e \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u044e"),ne(e),c.next=30;break;case 10:return c.prev=10,t=H,""===H[H.length-1].text&&(t=H.slice(0,H.length-1)),c.next=15,m.a.awrap(fetch("/api/recipes/",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({name:i,hours:l,minutes:g,image:Y,portions:v,ingredients:M,instructions:t,category:w,priceTotal:T,caloriesTotal:F,portionsSuffix:ce}),credentials:"include"}));case 15:if(200!==(a=c.sent).status){c.next=24;break}return c.next=19,m.a.awrap(a.json());case 19:n=c.sent,r=n.recipeId,X(r),c.next=25;break;case 24:ne(Object(ke.a)({},ae,{server:"ERROR: ".concat(a.status)}));case 25:c.next=30;break;case 27:c.prev=27,c.t0=c.catch(10),ne(Object(ke.a)({},ae,{server:c.t0}));case 30:case"end":return c.stop()}}),null,null,[[10,27]])}}),ae.server&&r.a.createElement(xe.a,{size:"medium",color:"red"},ae.server)))}a(74);var et=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ingredients,a=e.portions/e.defaultPortions;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"\u0412\u0435\u0441"),r.a.createElement("th",null,"\u041a\u043a\u0430\u043b"),r.a.createElement("th",null,"\u0426\u0435\u043d\u0430"),r.a.createElement("th",null,"\u0428\u0442"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id,className:"testText "},r.a.createElement("td",{className:"paddingTd"},r.a.createElement(Ae.a,{label:e.name,href:e.link,target:"_blank"})),r.a.createElement("td",{className:"centered "},Math.round(e.inputWeight*a)),r.a.createElement("td",{className:"centered"},Math.round(e.calories*e.inputWeight*a/100)),r.a.createElement("td",{className:"centered"},Math.ceil(e.inputWeight*a/e.weight)*e.price),r.a.createElement("td",{className:"centered"},Math.ceil(e.inputWeight*a/e.weight)))}))))}}]),t}(r.a.Component),tt=a(216),at=a(206),nt=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.meterValue,a=e.meterType;return r.a.createElement(x.a,{align:"start"},r.a.createElement(tt.a,{anchor:"center"},r.a.createElement(at.a,{type:"circle",background:"light-2",values:[{value:t}],size:"xsmall",thickness:"small"}),r.a.createElement(x.a,{direction:"column",align:"center",pad:{bottom:"small"}},r.a.createElement(xe.a,{size:"large",weight:"bold"},t),r.a.createElement(xe.a,{className:"testText",size:"small"},a))))}}]),t}(n.Component),rt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={defaultPortions:0,portions:0,ingredients:[],priceTotal:0,caloriesTotal:0,name:"",image:"",instructions:[],hours:"",minutes:"",portionCaption:"\u043f\u043e\u0440\u0446\u0438\u0438"},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n,r,i,c,o,s,l,u,d,p,g,h,f;return m.a.async((function(E){for(;;)switch(E.prev=E.next){case 0:return window.scrollTo(0,0),e=this.props.match.params.id,E.next=4,m.a.awrap(fetch("/api/recipes/".concat(e)));case 4:return t=E.sent,E.next=7,m.a.awrap(t.json());case 7:a=E.sent,n=a.recipe,r=n.portions,i=n.ingredients,c=n.priceTotal,o=n.caloriesTotal,s=n.name,l=n.image,u=n.instructions,d=n.hours,p=n.minutes,g=n.authorName,h=n.category,f=n.author,this.setState((function(){return{defaultPortions:r,portions:r,ingredients:i,priceTotal:Math.round(c),caloriesTotal:Math.round(o),name:s,image:l,hours:d,minutes:p,authorName:g,category:h,author:f,instructions:u}}));case 10:case"end":return E.stop()}}),null,this)}},{key:"countTotalCalories",value:function(){var e=this.state.portions/this.state.defaultPortions,t=0;return this.state.ingredients.map((function(a){t+=a.calories*a.inputWeight*e/100})),Math.round(t)}},{key:"countTotalPrice",value:function(){var e=this.state.portions/this.state.defaultPortions,t=0;return this.state.ingredients.map((function(a){var n=Math.ceil(a.inputWeight*e/a.weight);t+=a.price*n})),Math.round(t)}},{key:"setPortions",value:function(e){var t=this;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.awrap(this.setState((function(){return{portions:e}})));case 2:this.setState((function(){return{caloriesTotal:t.countTotalCalories()}})),this.setState((function(){return{priceTotal:t.countTotalPrice()}})),1===parseFloat(e)?this.setState((function(){return{portionCaption:"\u043f\u043e\u0440\u0446\u0438\u044f"}})):parseFloat(e)>4?this.setState((function(){return{portionCaption:"\u043f\u043e\u0440\u0446\u0438\u0439"}})):this.setState((function(){return{portionCaption:"\u043f\u043e\u0440\u0446\u0438\u0438"}}));case 5:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e,t=this;return r.a.createElement(x.a,{elevation:"medium",direction:"column",width:"80%",gap:"medium"},r.a.createElement(x.a,{align:"center",direction:"column",animation:"fadeIn",width:"100%"},r.a.createElement(Ae.a,{className:"testText",margin:{top:"small"},alignSelf:"center",label:this.state.category,href:"/recipes",textAlign:"center"}),r.a.createElement(ve.a,{className:"headerStyle",margin:{bottom:"small",top:"medium"},alignSelf:"center",level:1,textAlign:"center"},this.state.name),r.a.createElement(ve.a,{className:"author",textAlign:"center",alignSelf:"center",margin:{bottom:"none"},level:4},"\u0410\u0432\u0442\u043e\u0440: ",this.state.authorName)),r.a.createElement(x.a,{width:"100%",height:"500px",elevation:"medium",alignSelf:"center",animation:"fadeIn"},r.a.createElement(le.a,{fit:"cover",height:"100%",width:"100%",elevation:"medium",fill:!0,src:this.state.image})),r.a.createElement(x.a,{className:"testText",width:"80%",justify:"between",animation:"fadeIn",alignSelf:"center",direction:"row"},r.a.createElement(nt,{infoRecipe:!0,meterValue:parseFloat(this.state.caloriesTotal),meterType:"\u041a\u043a\u0430\u043b"}),r.a.createElement(nt,{meterValue:60*parseFloat(this.state.hours)+parseFloat(this.state.minutes),meterType:"\u041c\u0438\u043d\u0443\u0442"}),r.a.createElement(nt,{meterValue:parseFloat(this.state.priceTotal),meterType:"\u0420\u0443\u0431\u043b\u0435\u0439"})),r.a.createElement(x.a,{width:"100%",direction:"row",animation:"fadeIn",align:"center",justify:"between"},r.a.createElement(x.a,{className:"testText",direction:"row",justify:"start",margin:{left:"large"}},r.a.createElement(ve.a,{margin:{left:"small",top:"small",bottom:"small"},level:3},"\u0418\u041d\u0413\u0420\u0415\u0414\u0418\u0415\u041d\u0422\u042b:")),r.a.createElement(x.a,(e={margin:{right:"large"},align:"center",justify:"between",direction:"row",height:"100%"},Object(Se.a)(e,"justify","end"),Object(Se.a)(e,"width","200px"),e),r.a.createElement(Ee.c,{className:"testText",min:1,max:12,value:this.state.portions,suffix:"  ".concat(this.state.portionCaption),onChange:function(e){var a=e.target.value;t.setPortions(a)}}))),r.a.createElement(x.a,{className:"testText",elevation:"xsmall",width:"100",animation:"fadeIn",margin:{left:"large",right:"large"}},r.a.createElement(et,{defaultPortions:parseFloat(this.state.defaultPortions),portions:parseFloat(this.state.portions),ingredients:this.state.ingredients})),r.a.createElement(x.a,{className:"testText",width:"100",animation:"fadeIn",margin:{left:"large",right:"large"}},r.a.createElement(ve.a,{margin:{top:"small"},level:3},"\u0418\u041d\u0421\u0422\u0420\u0423\u041a\u0426\u0418\u0418:"),r.a.createElement("ul",{className:"list4a"},this.state.instructions.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"testText",key:e.id},e.text))})))))}}]),t}(n.Component),it=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={id:"",name:"",hours:"0",minutes:"0",image:"",portions:"",portionsSuffix:" \u043f\u043e\u0440\u0446\u0438\u044f",category:"",priceTotal:"",caloriesTotal:"",search:"",ingredients:[],instructions:[],errors:[],reload:!1},a.clickSubmit=a.clickSubmit.bind(Object(fe.a)(a)),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n,r,i,c,o,s,l,u,d,p,g,h,f,E;return m.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:return e=this.props.match.params.id,b.next=3,m.a.awrap(fetch("/api/recipes/".concat(e)));case 3:return t=b.sent,b.next=6,m.a.awrap(t.json());case 6:a=b.sent,n=a.recipe,r=n._id,i=n.name,c=n.hours,o=n.minutes,s=n.portions,l=n.portionsSuffix,u=n.category,d=n.priceTotal,p=n.caloriesTotal,g=n.ingredients,h=n.instructions,f=n.image,E=h.concat([{id:Ie()(),text:""}]),this.setState((function(){return{id:r,name:i,hours:c,minutes:o,portions:s,portionsSuffix:l,category:u,priceTotal:d,caloriesTotal:p,ingredients:g,instructions:E,image:f}}));case 10:case"end":return b.stop()}}),null,this)}},{key:"clickSubmit",value:function(){var e,t,a,n,r,i,c,o,s,l,u,d,p,g,h,f,E,b,v,x,O,j,S;return m.a.async((function(w){for(;;)switch(w.prev=w.next){case 0:if(e=this.state,t=e.name,a=e.image,n=e.ingredients,r=e.instructions,i=e.category,c=e.errors,t&&a&&0!==n.length&&""!==r[0].text&&i){w.next=11;break}o={},t||(o.name="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),a||(o.image="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u043e\u0442\u043e \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),i||(o.category="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),0===n.length&&(o.ingredients="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"),""===r[0].text&&(o.instructions="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u043f\u043e \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u044e"),this.setState((function(e){return Object(ke.a)({},e,{errors:o})})),w.next=24;break;case 11:return w.prev=11,s=this.state,l=s.id,u=s.name,d=s.hours,p=s.minutes,g=s.image,h=s.portions,f=s.ingredients,E=s.instructions,b=s.category,v=s.priceTotal,x=s.caloriesTotal,O=s.portionsSuffix,j=E,""===E[E.length-1].text&&(j=E.slice(0,E.length-1)),w.next=17,m.a.awrap(fetch("/api/recipes/".concat(l),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({name:u,hours:d,minutes:p,image:g,portions:h,ingredients:f,instructions:j,category:b,priceTotal:v,caloriesTotal:x,portionsSuffix:O}),credentials:"include"}));case 17:200===(S=w.sent).status?this.setState((function(){return{reload:!0}})):this.setState((function(e){return Object(ke.a)({},e,{errors:Object(ke.a)({},c,{server:"ERROR: ".concat(S.status)})})})),w.next=24;break;case 21:w.prev=21,w.t0=w.catch(11),this.setState((function(e){return Object(ke.a)({},e,{errors:Object(ke.a)({},e.errors,{server:w.t0})})}));case 24:case"end":return w.stop()}}),null,this,[[11,21]])}},{key:"render",value:function(){var e=this,t=this.state,a=t.id,n=t.reload,i=t.name,c=t.errors,o=t.portions,s=t.portionsSuffix,l=t.ingredients,u=t.instructions,m=t.search,d=t.category,p=t.hours,g=t.minutes;return n?r.a.createElement(b.a,{to:"/recipes/".concat(a)}):r.a.createElement(x.a,{justify:"between",alignContent:"stretch",margin:"medium",gap:"medium",pad:"medium",fill:"vertical",direction:"column",elevation:"medium",width:"80%",height:"medium"},r.a.createElement(me.a,{margin:{vertical:"medium",horizontal:"...",top:"large",bottom:"...",left:"...",right:"..."},className:"bold",alignSelf:"center",size:"small",responsive:!0,textAlign:"center"},"\u041d\u041e\u0412\u042b\u0419 \u0420\u0415\u0426\u0415\u041f\u0422"),r.a.createElement(x.a,{align:"center",alignContent:"center",alignSelf:"center",border:"bottom",direction:"row-responsive"},r.a.createElement(Re.a,{plain:!0,placeholder:"    \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",value:i,className:"ingredient-name",onChange:function(t){var a=t.target.value;e.setState((function(e){return{name:a,errors:Object(ke.a)({},e.errors,{name:""})}}))}}),c.name&&r.a.createElement(me.a,{margin:{vertical:"medium",horizontal:"...",top:"large",bottom:"...",left:"...",right:"..."},className:"bold",alignSelf:"center",size:"small",responsive:!0,textAlign:"center",color:"red"},c.name)),r.a.createElement(me.a,{margin:{vertical:"medium",horizontal:"...",top:"large",bottom:"...",left:"...",right:"..."},className:"bold",alignSelf:"center",size:"small",responsive:!0,textAlign:"center"},"\u041a\u041e\u041b\u0418\u0427\u0415\u0421\u0422\u0412\u041e \u041f\u041e\u0420\u0426\u0418\u0419"),r.a.createElement(x.a,{round:"small",align:"center",alignContent:"center",alignSelf:"center",direction:"row-responsive",elevation:"small",fill:!1,flex:!1,width:{min:"220px",max:"220px"}},r.a.createElement(Ee.c,{min:1,max:12,value:o,suffix:s,onChange:function(t){var a=t.target.value;1===parseFloat(a)?e.setState((function(e){return Object(ke.a)({},e,{portionsSuffix:" \u043f\u043e\u0440\u0446\u0438\u044f"})})):parseFloat(a)>4?e.setState((function(e){return Object(ke.a)({},e,{portionsSuffix:" \u043f\u043e\u0440\u0446\u0438\u0439"})})):e.setState((function(e){return Object(ke.a)({},e,{portionsSuffix:" \u043f\u043e\u0440\u0446\u0438\u0438"})})),e.setState((function(){return{portions:a}}))}})),r.a.createElement(me.a,{margin:{vertical:"medium",horizontal:"...",top:"large",bottom:"...",left:"...",right:"..."},className:"bold",alignSelf:"center",size:"small",responsive:!0,textAlign:"center"},"\u0418\u041d\u0413\u0420\u0415\u0414\u0418\u0415\u041d\u0422\u042b"),l&&r.a.createElement(ze,{ingredients:l,setIngredients:function(t){e.setState((function(e){return Object(ke.a)({},e,{ingredients:t})}))},setPriceTotal:function(t){e.setState((function(e){return Object(ke.a)({},e,{priceTotal:t})}))},setCaloriesTotal:function(t){e.setState((function(e){return Object(ke.a)({},e,{caloriesTotal:t})}))}}),r.a.createElement(Le,{setSearch:function(t){e.setState((function(e){return Object(ke.a)({},e,{search:t})}))}}),m&&r.a.createElement(qe,{search:m,setSearch:function(t){e.setState((function(e){return Object(ke.a)({},e,{search:t})}))},ingredients:l,setIngredients:function(t){e.setState((function(e){return Object(ke.a)({},e,{ingredients:t})}))},setCaloriesTotal:function(t){e.setState((function(e){return Object(ke.a)({},e,{caloriesTotal:t})}))},setPriceTotal:function(t){e.setState((function(e){return Object(ke.a)({},e,{priceTotal:t})}))},errors:c,setError:function(t){e.setState((function(e){return Object(ke.a)({},e,{errors:t})}))}}),c.ingredients&&r.a.createElement(xe.a,{size:"medium",color:"red"},c.ingredients),r.a.createElement(me.a,{margin:{vertical:"medium",horizontal:"...",top:"large",bottom:"...",left:"...",right:"..."},className:"bold",alignSelf:"center",size:"small",responsive:!0,textAlign:"center"},"\u0418\u041d\u0421\u0422\u0420\u0423\u041a\u0426\u0418\u0418"),u&&u.map((function(t,a){return r.a.createElement(x.a,{alignSelf:"center",direction:"row-responsive",key:t.id},r.a.createElement(Je,{instruction:t,instructions:u,setInstructions:function(t){e.setState((function(e){return Object(ke.a)({},e,{instructions:t})}))},errors:c,setError:function(t){e.setState((function(e){return Object(ke.a)({},e,{errors:t})}))},index:a}))})),c.instructions&&r.a.createElement(xe.a,{size:"medium",color:"red"},c.instructions),r.a.createElement(x.a,{alignSelf:"center",alignContent:"center",direction:"row",round:"small",fill:!1,flex:"grow",margin:{vertical:"0px"},width:{min:"800px",max:"800px"}},r.a.createElement(x.a,{alignSelf:"left",alignContent:"top",direction:"column",round:"small",fill:!1,flex:"grow",margin:{vertical:"0px"}},r.a.createElement(me.a,{margin:{vertical:"medium",horizontal:"...",top:"large",bottom:"...",left:"...",right:"..."},className:"bold",alignSelf:"left",size:"small",responsive:!0,textAlign:"left"},"\u041a\u0410\u0422\u0415\u0413\u041e\u0420\u0418\u042f"),r.a.createElement(Pe,{category:d,setCategory:function(t){e.setState((function(e){return Object(ke.a)({},e,{category:t})}))},errors:c,setError:function(t){e.setState((function(e){return Object(ke.a)({},e,{errors:t})}))}}),c.category&&r.a.createElement(xe.a,{size:"medium",color:"red"},c.category)),r.a.createElement(x.a,{alignSelf:"right",direction:"column",round:"small",fill:!1,flex:"grow",margin:{vertical:"0px"}},r.a.createElement(me.a,{margin:{vertical:"medium",horizontal:"...",top:"large",bottom:"...",left:"...",right:"..."},className:"bold",alignSelf:"left",size:"small",responsive:!0,textAlign:"left"},"\u0412\u0420\u0415\u041c\u042f \u041f\u0420\u0418\u0413\u041e\u0422\u041e\u0412\u041b\u0415\u041d\u0418\u042f"),r.a.createElement(Ne.a,{id:"hours",name:"hours",placeholder:"\u0447\u0430\u0441\u043e\u0432",dropHeight:"small",options:["0","1","2","3","4","5","6","7","8","9","10","11","12"],value:p,onChange:function(t){var a=t.option;e.setState({hours:a})}}),r.a.createElement(me.a,{className:"bold",alignSelf:"left",size:"small",responsive:!0,textAlign:"left"},"\u0447."),r.a.createElement(Ne.a,{id:"minutes",name:"minutes",placeholder:"\u043c\u0438\u043d\u0443\u0442",dropHeight:"small",options:["0","5","10","15","20","25","30","35","40","45","50","55"],value:g,onChange:function(t){var a=t.option;return e.setState({minutes:a})}}),r.a.createElement(me.a,{className:"bold",alignSelf:"left",size:"small",responsive:!0,textAlign:"left"},"\u043c\u0438\u043d."))),r.a.createElement($e,{setImage:function(t){e.setState((function(e){return Object(ke.a)({},e,{image:t})}))}}),c.image&&r.a.createElement(xe.a,{size:"medium",color:"red"},c.image),r.a.createElement(x.a,{alignSelf:"center",alignContent:"center",direction:"row",round:"small",fill:!1,flex:"grow",margin:{vertical:"0px"}},r.a.createElement(Ve,{name:"\u0418\u0417\u041c\u0415\u041d\u0418\u0422\u042c \u0420\u0415\u0426\u0415\u041f\u0422",clickSubmit:this.clickSubmit}),c.server&&r.a.createElement(xe.a,{size:"medium",color:"red"},c.server)))}}]),t}(n.Component),ct=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.isLoggedFetch();case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.props.component;return r.a.createElement(b.b,Object.assign({},this.props,{component:function(){return e.props.loadingRoute?r.a.createElement(be,null):e.props.isLoggedIn?r.a.createElement(t,e.props):r.a.createElement(b.a,{to:"/login"})}}))}}]),t}(r.a.Component);var ot=Object(o.b)((function(e){return{isLoggedIn:e.isLoggedIn,loadingRoute:e.loadingRoute}}),(function(e){return{isLoggedFetch:function(){return e(G())}}}))(ct),st=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.isLoggedFetch();case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.props.Component;return r.a.createElement(b.b,Object.assign({},this.props,{render:function(a){return!0===e.props.isLoggedIn?r.a.createElement(t,a):e.props.loadingFetch?r.a.createElement("span",{className:"statustext"},"loading"):r.a.createElement(b.a,{to:"/"})}}))}}]),t}(r.a.Component);Object(o.b)((function(e){return{isLoggedIn:e.isLoggedIn,loadingFetch:e.loadingFetch}}),(function(e){return{isLoggedFetch:function(){return e(G())}}}))(st);var lt=a(200),ut=function(e){var t=e.name,a=e.image,n=e._id,i=e.ingredients,c=e.priceTotal,o=e.caloriesTotal,s=e.category,l=e.authorName,u=e.hours,m=e.minutes;return r.a.createElement(x.a,{direction:"row"},r.a.createElement(x.a,{height:"small",width:"small",margin:"xsmall"},r.a.createElement(le.a,{src:a,alt:t,fit:"cover"})),r.a.createElement(x.a,{direction:"column",width:"medium",align:"start"},r.a.createElement(E.b,{style:{textDecoration:"none"},to:"/recipes/".concat(n)},r.a.createElement(ve.a,{level:"3",margin:"none",color:"#01a982"}," ",s," / ",t)),r.a.createElement(x.a,{alignSelf:"start"},r.a.createElement(lt.a,{style:{border:"none"},alignSelf:"start",label:"\u0418\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b - ".concat(i.length),dropAlign:{top:"bottom",left:"left"},dropContent:r.a.createElement(x.a,{margin:"xsmall"},i.map((function(e){return r.a.createElement("a",{key:e.id,style:{textDecoration:"none"},href:e.link,target:"_blank"}," ",r.a.createElement(xe.a,{size:"small",color:"black",margin:"xsmall"}," ",e.name)," ")}))," ")})),r.a.createElement(x.a,{alignSelf:"start"},r.a.createElement(xe.a,null,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0435\u0446\u0435\u043f\u0442\u0430: ",c," \u0440\u0443\u0431. "),r.a.createElement(xe.a,null,"\u041a\u0430\u043b\u043e\u0440\u0438\u0439\u043d\u043e\u0441\u0442\u044c: ",o," \u043a\u043a\u0430\u043b "),r.a.createElement(xe.a,null,"\u0410\u0432\u0442\u043e\u0440: ",l),r.a.createElement(xe.a,null,"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u044f:"," ","0"===u?"":"".concat(u,"1"===u?" \u0447\u0430\u0441":u>1&&u<5?" \u0447\u0430\u0441\u0430":" \u0447\u0430\u0441\u043e\u0432")," ","0"!==m&&"".concat(m," \u043c\u0438\u043d\u0443\u0442")," "))))},mt=a(217),dt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={directionCal:"",directionPrice:"",id:""},a.randomRecipesFromApi=function(){var e,t;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(fetch("/api/recipes/random"));case 2:return e=n.sent,n.next=5,m.a.awrap(e.json());case 5:t=n.sent,a.setState({id:t.id});case 7:case"end":return n.stop()}}))},a.toggleCal=function(){switch(a.state.directionCal){case"up":a.setState({directionCal:"down",directionPrice:""});break;case"down":a.setState({directionCal:"up",directionPrice:""});break;default:a.setState({directionCal:"up",directionPrice:""})}},a.togglePrice=function(){switch(a.state.directionPrice){case"up":a.setState({directionPrice:"down",directionCal:""});break;case"down":a.setState({directionPrice:"up",directionCal:""});break;default:a.setState({directionPrice:"up",directionCal:""})}},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.randomRecipesFromApi()}},{key:"render",value:function(){var e=this,t=this.props,a=t.recipesFromApiSortingByPrice,n=t.recipesFromApiSortingByCalories,i=this.state,c=i.directionCal,o=i.directionPrice,s=i.id,l="up"===o?"\u041f\u043e \u0446\u0435\u043d\u0435 \u25bc":"down"===o?"\u041f\u043e \u0446\u0435\u043d\u0435 \u25b2":"\u041f\u043e \u0446\u0435\u043d\u0435",u="up"===c?"\u041f\u043e \u043a\u0430\u043b\u043e\u0440\u0438\u0439\u043d\u043e\u0441\u0442\u0438 \u25bc":"down"===c?"\u041f\u043e \u043a\u0430\u043b\u043e\u0440\u0438\u0439\u043d\u043e\u0441\u0442\u0438 \u25b2":"\u041f\u043e \u043a\u0430\u043b\u043e\u0440\u0438\u0439\u043d\u043e\u0441\u0442\u0438";return r.a.createElement(x.a,{width:"large"},r.a.createElement(mt.a,{margin:"xsmall",rows:["fit"],columns:["fit","fit","fit","fit"],gap:"small",areas:[{name:"surprise",start:[0,0],end:[1,0]},{name:"sort",start:[1,0],end:[2,0]},{name:"sortButton1",start:[2,0],end:[3,0]},{name:"sortButton2",start:[3,0],end:[4,0]}]},r.a.createElement(x.a,{gridArea:"surprise"},r.a.createElement(E.b,{to:"/recipes/"+s},r.a.createElement(ue.a,{style:{border:"none"},label:"\u0423\u0434\u0438\u0432\u0438 \u043c\u0435\u043d\u044f!"}))),r.a.createElement(x.a,{gridArea:"sort"},r.a.createElement(xe.a,{margin:"xsmall"},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c:")),r.a.createElement(x.a,{gridArea:"sortButton1"},r.a.createElement(ue.a,{style:{border:"none"},label:l,onClick:function(){a(o),e.togglePrice()}})),r.a.createElement(x.a,{gridArea:"sortButton2"},r.a.createElement(ue.a,{style:{border:"none"},label:u,onClick:function(){n(c),e.toggleCal()}}))))}}]),t}(n.Component),pt=["\u041b\u044e\u0431\u0430\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f","\u0425\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u0437\u0430\u043a\u0443\u0441\u043a\u0430","\u0413\u043e\u0440\u044f\u0447\u0430\u044f \u0437\u0430\u043a\u0443\u0441\u043a\u0430","\u0421\u0443\u043f","\u0413\u043e\u0440\u044f\u0447\u0435\u0435 \u0431\u043b\u044e\u0434\u043e","\u0421\u0430\u043b\u0430\u0442","\u041a\u0430\u0448\u0430","\u041f\u0430\u0441\u0442\u0430","\u0414\u0435\u0441\u0435\u0440\u0442"];var gt=function(e){var t=e.recipesCategory,a=e.recipesFromApi,n=r.a.useState(""),i=Object(Ce.a)(n,2),c=i[0],o=i[1];return r.a.createElement(x.a,{direction:"row",width:"midle",margin:"xsmall"},r.a.createElement(xe.a,{margin:"xsmall",alignSelf:"center"}," \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e: "),r.a.createElement(Ne.a,{value:c,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e",options:pt,onChange:function(e){var n=e.option;o(n),"\u041b\u044e\u0431\u0430\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"===n?a():t(n)}}))},ht=(a(187),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={recipes:[]},a.recipesFromApi=function(){var e,t;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(fetch("/api/recipes"));case 2:return e=n.sent,n.next=5,m.a.awrap(e.json());case 5:t=n.sent,a.setState({recipes:t.recipes});case 7:case"end":return n.stop()}}))},a.recipesFromApiSortingByPrice=function(e){var t,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.a.awrap(fetch("/api/recipes/price?direction=".concat(e)));case 2:return t=r.sent,r.next=5,m.a.awrap(t.json());case 5:n=r.sent,a.setState({recipes:n.recipes});case 7:case"end":return r.stop()}}))},a.recipesFromApiSortingByCalories=function(e){var t,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.a.awrap(fetch("/api/recipes/calorific?direction=".concat(e)));case 2:return t=r.sent,r.next=5,m.a.awrap(t.json());case 5:n=r.sent,a.setState({recipes:n.recipes});case 7:case"end":return r.stop()}}))},a.recipesCategory=function(e){var t,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.a.awrap(fetch("/api/recipes/category/".concat(e)));case 2:return t=r.sent,r.next=5,m.a.awrap(t.json());case 5:n=r.sent,a.setState({recipes:n.recipes});case 7:case"end":return r.stop()}}))},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.recipesFromApi()}},{key:"render",value:function(){var e=this.state.recipes;return r.a.createElement(x.a,null,r.a.createElement(ve.a,{margin:"large",textAlign:"center"},"\u0420\u0435\u0446\u0435\u043f\u0442\u044b"),r.a.createElement(xe.a,{margin:"large",textAlign:"center"},'\u0418\u0449\u0438\u0442\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u044b, \u0432\u044b\u0431\u0438\u0440\u0430\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e \u0431\u043b\u044e\u0434\u0430. \u0420\u0435\u0446\u0435\u043f\u0442\u044b \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0446\u0435\u043d\u0435 \u0438 \u043a\u0430\u043b\u043e\u0440\u0438\u0439\u043d\u043e\u0441\u0442\u0438. \u0410 \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0441\u0442\u0440\u0430\u0434\u0430\u0442\u044c \u043e\u0442 \u043c\u0443\u043a \u0432\u044b\u0431\u043e\u0440\u0430, \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u0435\u0439 "\u0423\u0434\u0438\u0432\u0438 \u043c\u0435\u043d\u044f!": )'),r.a.createElement(x.a,{justify:"center",align:"center"},r.a.createElement(dt,{recipesFromApiSortingByPrice:this.recipesFromApiSortingByPrice,recipesFromApiSortingByCalories:this.recipesFromApiSortingByCalories})),r.a.createElement(x.a,{justify:"center",align:"center"},r.a.createElement(gt,{recipesCategory:this.recipesCategory,recipesFromApi:this.recipesFromApi})),r.a.createElement(x.a,{justify:"center",alignSelf:"center"},e.map((function(e){return r.a.createElement(x.a,{key:e._id,align:"start",style:{"margin-top":"40px"}},r.a.createElement(ut,e))}))))}}]),t}(n.Component));function ft(){return r.a.createElement(x.a,{width:"80%",elevation:"medium",justify:"center",align:"center"},r.a.createElement(ht,null))}var Et=a(134),bt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={recipes:[]},a.recipesFromApi=function(){var e,t;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(fetch("/api/users/".concat(a.props.userId,"/recipes")));case 2:return e=n.sent,n.next=5,m.a.awrap(e.json());case 5:t=n.sent,a.setState({recipes:t.recipes});case 7:case"end":return n.stop()}}))},a.deleteRecipe=function(e){var t,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.a.awrap(fetch("/api/recipes/".concat(e),{method:"DELETE"}));case 2:return t=r.sent,r.next=5,m.a.awrap(t.json());case 5:return n=r.sent,r.next=8,m.a.awrap(console.log(n));case 8:a.setState((function(t){var a=t.recipes,n=a.findIndex((function(t){return t._id===e}));console.log(n);var r=Object(Et.a)(a);return r.splice(n,1),{recipes:r}}));case 9:case"end":return r.stop()}}))},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.recipesFromApi()}},{key:"render",value:function(){var e=this,t=this.state.recipes;return r.a.createElement(x.a,{width:"80%",elevation:"medium",justify:"center",align:"center"},r.a.createElement(x.a,{margin:"large"},r.a.createElement(ve.a,{margin:"large",textAlign:"center"},"\u041c\u043e\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u044b"),0===t.length&&r.a.createElement(x.a,{margin:"small",justify:"center",align:"center"},r.a.createElement(xe.a,null," \u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0440\u0435\u0446\u0435\u043f\u0442\u043e\u0432 "),r.a.createElement(xe.a,null," \u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0441\u0432\u043e\u0439 \u0440\u0435\u0446\u0435\u043f\u0442 \u043f\u043e \u044d\u0442\u043e\u0439 ",r.a.createElement(E.b,{to:"/recipes/new"},"  \u0441\u0441\u044b\u043b\u043a\u0435 "))),t.map((function(t){return r.a.createElement(x.a,{key:t._id,direction:"column",justify:"center",align:"center"},r.a.createElement(ut,t),r.a.createElement(x.a,{direction:"row",align:"start"},r.a.createElement(E.b,{to:"/recipes/"+t._id+"/edit"},r.a.createElement(ue.a,{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",margin:"xsmall"})),r.a.createElement(ue.a,{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",margin:"xsmall",onClick:function(){return e.deleteRecipe(t._id)}})))}))))}}]),t}(n.Component);var vt=Object(o.b)((function(e){return{userId:e.userId,userName:e.userName}}))(bt),xt=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.isLoggedFetch();case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement(E.a,null,r.a.createElement(v.a,{theme:O.a},r.a.createElement(x.a,{flex:!0,align:"center",justify:"center"},r.a.createElement(he,null),r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/",render:function(){return r.a.createElement(ft,null)}}),r.a.createElement(b.b,{exact:!0,path:"/recipes",component:ft}),r.a.createElement(ot,{exact:!0,path:"/recipes/new",component:Ze}),r.a.createElement(b.b,{exact:!0,path:"/login",component:je}),r.a.createElement(b.b,{exact:!0,path:"/registration",component:ye}),r.a.createElement(b.b,{exact:!0,path:"/recipes/:id",component:rt}),r.a.createElement(b.b,{exact:!0,path:"/recipes/:id/edit",component:it}),r.a.createElement(ot,{exact:!0,path:"/users/:username",component:vt}),r.a.createElement(ot,{exact:!0,path:"/recipes/:id/edit",component:it})))))}}]),t}(r.a.Component);var Ot=Object(o.b)((function(e){return{isLoggedIn:e.isLoggedIn,userId:e.userId}}),(function(e){return{isLoggedFetch:function(){return e(G())}}}))(xt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var jt={isLoggedIn:!1,loadingRoute:!1,loadingFetch:!1,logRegstatusError:"",registrationStatus:"",questions:[],userId:"",userName:"",ingredientsParsed:[],cardHeight:"",cardWidth:""},St=Object(l.a)(),wt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,yt=Object(s.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_LOGGED_REQUEST":return Object(ke.a)({},e,{loadingRoute:!0,logRegstatusError:""});case"IS_LOGGED_GOT_RESPONSE":return Object(ke.a)({},e,{isLoggedIn:t.isLoggedIn,loadingRoute:!1,logRegstatusError:"",userId:t.userId,userName:t.userName});case"IS_LOGGED_ERROR":return Object(ke.a)({},e,{loadingFetch:!1,logRegstatusError:t.logRegstatusError});case"LOGIN_REQUEST":return Object(ke.a)({},e,{isLoggedIn:!1,loadingFetch:!0,logRegstatusError:""});case"LOGIN_GOT_RESPONSE":return Object(ke.a)({},e,{isLoggedIn:t.isLoggedIn,loadingFetch:!1,logRegstatusError:"",userId:t.userId,userName:t.userName});case"LOGIN_ERROR":return Object(ke.a)({},e,{loadingFetch:!1,logRegstatusError:t.logRegstatusError});case"REGISTER_REQUEST":return Object(ke.a)({},e,{loadingFetch:!0,logRegstatusError:""});case"REGISTER_GOT_RESPONSE":return Object(ke.a)({},e,{loadingFetch:!1,registrationStatus:t.registrationStatus,logRegstatusError:""});case"REGISTER_ERROR":return Object(ke.a)({},e,{loadingFetch:!1,logRegstatusError:t.logRegstatusError});case"CLEAR_STATUS":return Object(ke.a)({},e,{loadingFetch:!1,logRegstatusError:"",registrationStatus:""});case"LOGOUT_REQUEST":return Object(ke.a)({},e,{loadingFetch:!0,logRegstatusError:""});case"LOGOUT_GOT_RESPONSE":return Object(ke.a)({},e,{isLoggedIn:t.isLoggedIn,loadingFetch:!1,logRegstatusError:"",userId:"",userName:""});case"LOGOUT_ERROR":return Object(ke.a)({},e,{loadingFetch:!1,logRegstatusError:t.logRegstatusError});case"PARSE_REQUEST":return Object(ke.a)({},e,{loadingFetch:!0,parseError:!1});case"PARSE_GOT_RESPONSE":return Object(ke.a)({},e,{loadingFetch:!1,ingredientsParsed:t.ingredientsParsed,parseError:!1});case"PARSE_ERROR":return Object(ke.a)({},e,{loadingFetch:!1,parseError:t.parseError});case"SET_CARD_DIMENSIONS":return Object(ke.a)({},e,{cardHeight:t.cardHeight,cardWidth:t.cardWidth});default:return e}}),wt(Object(s.a)(St)));St.run(ce),c.a.render(r.a.createElement(o.a,{store:yt},r.a.createElement(Ot,{height:"100%",width:"100%"})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,t,a){},74:function(e,t,a){},98:function(e,t,a){e.exports=a.p+"static/media/logo.7028c238.png"}},[[142,1,2]]]);
//# sourceMappingURL=main.87a5fc52.chunk.js.map